<!DOCTYPE html>
<html>
<head>
<title>Save That Cat</title>
</head>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<h1 class="header">Save That Cat</h1>

<img src="meow.jpg" width="430" height="320" class="img">

<section>
	<input id="name" type="text" placeholder="Name" class="input"/>
	<br><br>
	<input id="colour" type="text" placeholder="Colour" class="input"/>
	<br><br>
	<input id="description" type="text" placeholder="Description"  class="input"/>
	<br><br>
	<input id="location" type="text" placeholder="Location"  class="input"/>
	<br><br>
	<input type="button" value="Submit" onclick="insertRow()" class="input"/>
</section>

<input type="text" id="search" placeholder="Type to search">

<table id="table"" class="table">
    <tr>
        <th onclick="sortTable(0)">Name</th>
        <th onclick="sortTable(1)">Colour</th>
        <th onclick="sortTable(2)">Description</th>
        <th onclick="sortTable(3)">Location</th>
    <tr>
</table>

<script>
	function insertRow() {
		var table = document.getElementById("table");
		var row = table.insertRow(1);
		var cell1 = row.insertCell(0);
		var cell2 = row.insertCell(1);
		var cell3 = row.insertCell(2);
		var cell4 = row.insertCell(3);
		cell1.innerHTML = document.getElementById("name").value;
		cell2.innerHTML = document.getElementById("colour").value;
		cell3.innerHTML = document.getElementById("description").value;
		cell4.innerHTML = document.getElementById("location").value;
		
		// Clear input fields
		document.getElementById("name").value = '';
		document.getElementById("colour").value = '';
		document.getElementById("description").value = '';
		document.getElementById("location").value = '';
	}
</script>


<<script>
	// from https://www.w3schools.com/howto/howto_js_sort_table.asp
    function sortTable(n) {
        var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
        table = document.getElementById("table");
        switching = true;
        //Set the sorting direction to ascending:
        dir = "asc"; 
        /*Make a loop that will continue until
        no switching has been done:*/
        while (switching) {
        //start by saying: no switching is done:
			switching = false;
			rows = table.rows;
			/*Loop through all table rows (except the
			first, which contains table headers):*/
			for (i = 1; i < (rows.length - 1); i++) {
				//start by saying there should be no switching:
				shouldSwitch = false;
				/*Get the two elements you want to compare,
				one from current row and one from the next:*/
				x = rows[i].getElementsByTagName("TD")[n];
				y = rows[i + 1].getElementsByTagName("TD")[n];
				/*check if the two rows should switch place,
				based on the direction, asc or desc:*/
				if (dir == "asc") {
					if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
						//if so, mark as a switch and break the loop:
						shouldSwitch= true;
						break;
					}
				} else if (dir == "desc") {
					if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
						//if so, mark as a switch and break the loop:
						shouldSwitch = true;
						break;
					}
				}
			}
			if (shouldSwitch) {
				/*If a switch has been marked, make the switch
				and mark that a switch has been done:*/
				rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
				switching = true;
				//Each time a switch is done, increase this count by 1:
				switchcount ++;      
			} else {
				/*If no switching has been done AND the direction is "asc",
				set the direction to "desc" and run the while loop again.*/
				if (switchcount == 0 && dir == "asc") {
				dir = "desc";
				switching = true;
				}
			}
        }
    }
</script>

<script>
	var $rows = $('#table tr');
	$('#search').keyup(function() {
		var val = $.trim($(this).val()).replace(/ +/g, ' ').toLowerCase();
		
		$rows.show().filter(function() {
			var text = $(this).text().replace(/\s+/g, ' ').toLowerCase();
			return !~text.indexOf(val);
		}).hide();
	});
</script>

</body>
</html>